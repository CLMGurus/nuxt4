{"version":3,"file":"modes_microscopy_src_index_tsx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AASA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sources":["file:////home/balasakthi/Downloads/Viewers-master/modes/microscopy/src/id.js","file:////home/balasakthi/Downloads/Viewers-master/modes/microscopy/src/index.tsx","file:////home/balasakthi/Downloads/Viewers-master/modes/microscopy/src/toolbarButtons.ts"],"sourcesContent":["import packageJson from '../package.json';\n\nconst id = packageJson.name;\n\nexport { id };\n","import i18n from 'i18next';\n\nimport { id } from './id';\nimport toolbarButtons from './toolbarButtons';\n\nconst ohif = {\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\n  hangingProtocols: '@ohif/extension-default.hangingProtocolModule.default',\n  leftPanel: '@ohif/extension-default.panelModule.seriesList',\n  rightPanel: '@ohif/extension-dicom-microscopy.panelModule.measure',\n};\n\nexport const cornerstone = {\n  viewport: '@ohif/extension-cornerstone.viewportModule.cornerstone',\n};\n\nconst dicomvideo = {\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\n};\n\nconst dicompdf = {\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\n};\n\nconst extensionDependencies = {\n  // Can derive the versions at least process.env.from npm_package_version\n  '@ohif/extension-default': '^3.0.0',\n  '@ohif/extension-cornerstone': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\n  '@ohif/extension-dicom-pdf': '^3.0.1',\n  '@ohif/extension-dicom-video': '^3.0.1',\n  '@ohif/extension-dicom-microscopy': '^3.0.0',\n};\n\nfunction modeFactory({ modeConfiguration }) {\n  return {\n    id,\n    routeName: 'microscopy',\n    displayName: i18n.t('Modes:Microscopy'),\n\n    /**\n     * Lifecycle hooks\n     */\n    onModeEnter: ({ servicesManager }: withAppTypes) => {\n      const { toolbarService } = servicesManager.services;\n\n      toolbarService.register(toolbarButtons);\n      toolbarService.updateSection('primary', ['MeasurementTools', 'dragPan', 'TagBrowser']);\n\n      toolbarService.updateSection('MeasurementTools', [\n        'line',\n        'point',\n        'polygon',\n        'circle',\n        'box',\n        'freehandpolygon',\n        'freehandline',\n      ]);\n    },\n\n    onModeExit: ({ servicesManager }: withAppTypes) => {\n      const { toolbarService, uiDialogService, uiModalService } = servicesManager.services;\n\n      uiDialogService.hideAll();\n      uiModalService.hide();\n      toolbarService.reset();\n    },\n\n    validationTags: {\n      study: [],\n      series: [],\n    },\n\n    isValidMode: ({ modalities }) => {\n      const modalities_list = modalities.split('\\\\');\n\n      return {\n        valid: modalities_list.includes('SM'),\n        description: 'Microscopy mode only supports the SM modality',\n      };\n    },\n\n    routes: [\n      {\n        path: 'microscopy',\n        layoutTemplate: ({ location, servicesManager }) => {\n          return {\n            id: ohif.layout,\n            props: {\n              leftPanels: [ohif.leftPanel],\n              leftPanelResizable: true,\n              leftPanelClosed: true, // we have problem with rendering thumbnails for microscopy images\n              // rightPanelClosed: true, // we do not have the save microscopy measurements yet\n              rightPanels: [ohif.rightPanel],\n              rightPanelResizable: true,\n              viewports: [\n                {\n                  namespace: '@ohif/extension-dicom-microscopy.viewportModule.microscopy-dicom',\n                  displaySetsToDisplay: [\n                    // Share the sop class handler with cornerstone version of it\n                    '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\n                    '@ohif/extension-dicom-microscopy.sopClassHandlerModule.DicomMicroscopySRSopClassHandler',\n                  ],\n                },\n                {\n                  namespace: dicomvideo.viewport,\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\n                },\n                {\n                  namespace: dicompdf.viewport,\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\n                },\n              ],\n            },\n          };\n        },\n      },\n    ],\n    extensions: extensionDependencies,\n    hangingProtocol: 'default',\n    sopClassHandlers: [\n      '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\n      '@ohif/extension-dicom-microscopy.sopClassHandlerModule.DicomMicroscopySRSopClassHandler',\n      dicomvideo.sopClassHandler,\n      dicompdf.sopClassHandler,\n    ],\n    ...modeConfiguration,\n  };\n}\n\nconst mode = {\n  id,\n  modeFactory,\n  extensionDependencies,\n};\n\nexport default mode;\n","import type { Button } from '@ohif/core/types';\n\nexport const setToolActiveToolbar = {\n  commandName: 'setToolActive',\n  commandOptions: {\n    toolName: 'line',\n  },\n  context: 'MICROSCOPY',\n};\n\nconst toolbarButtons: Button[] = [\n  {\n    id: 'MeasurementTools',\n    uiType: 'ohif.toolButtonList',\n    props: {\n      buttonSection: true,\n    },\n  },\n  {\n    id: 'line',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-length',\n      label: 'Line',\n      tooltip: 'Line',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'point',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-point',\n      label: 'Point',\n      tooltip: 'Point Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'point' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'polygon',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-polygon',\n      label: 'Polygon',\n      tooltip: 'Polygon Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'polygon' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'circle',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-circle',\n      label: 'Circle',\n      tooltip: 'Circle Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'circle' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'box',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-rectangle',\n      label: 'Box',\n      tooltip: 'Box Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'box' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'freehandpolygon',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-freehand-polygon',\n      label: 'Freehand Polygon',\n      tooltip: 'Freehand Polygon Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'freehandpolygon' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'freehandline',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-freehand-line',\n      label: 'Freehand Line',\n      tooltip: 'Freehand Line Tool',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'freehandline' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'dragPan',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-move',\n      label: 'Pan',\n      commands: {\n        ...setToolActiveToolbar,\n        commandOptions: { toolName: 'dragPan' },\n      },\n      evaluate: 'evaluate.microscopyTool',\n    },\n  },\n  {\n    id: 'TagBrowser',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'dicom-tag-browser',\n      label: 'Dicom Tag Browser',\n      tooltip: 'Dicom Tag Browser',\n      commands: 'openDICOMTagViewer',\n      evaluate: 'evaluate.action',\n    },\n  },\n];\n\nexport default toolbarButtons;\n"],"names":[],"sourceRoot":""}